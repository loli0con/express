# express
一个包裹递送公司的数据库项目

## 文档
请查看doc目录下的文档

## sql语句
主要分成三个部分
- create 创建数据库、自定义函数、表、视图
- insert 插入测试数据
- query 执行测试过程

## 执行
按照如下顺序执行，保证不会出错:
1. create_database.sql
2. create_my_function.sql
3. create_table.sql
4. create_view.sql
5. insert_basic_data.sql
6. insert_event_1721_data.sql
7. insert_high_cost_data.sql
8. query_event_1721.sql
9. query_statistical_data.sql
10. query_bill.sql

## 扯皮
- 一开始编写测试数据的时候，犯了一个巨大的错误。
我想保证测试随机性，然后想用程序生成大量的测试数据。
写程序的时候，写了一天，感觉好像没啥进展，或者说特别难写，总之就是不对劲。
我发现测试数据生成是有规律的，或者说记录之间相互的关联性很大。
我要保证生成的数据是正确的，必须考虑好记录之间的关联性。
又因为这个项目只是构建一个数据库，而缺少业务逻辑处理模块。
例如客户下单后，生成一些的数据，包括运输任务的分配等。
如果我要确保测试数据的合理性，我就必须要考虑这个业务处理模块。
说人话就是，如果我要保证程序生成的测试数据的正确性，我的程序必须具备业务逻辑。
这明显是新的需求，太忙不做先。
更根本的是，测试数据即使具备了随机性，可是也毫无卵用啊！
举个例子，我写一个乘法器，我要测试它的基本功能。
我要考虑的是边界值、不同情况的类型的操作数的组合（整数\*整数，整数\*浮点数，正数\*负数）等，而不是瞎搞。
我没必要去造超级多的随机数，假设这些随机数都是正数，那我测超级多次正数\*正数，其实毫无意义。
况且，我也不知道这个乘法器算出来结果是否正确！
因为我只造了超级多的随机数，而没有造出"对应的符合预期的结果"。
所以我要再写另一个乘法器B，然后再去造出"对应的符合预期的结果"。
诶，不对哦，我的目的是测试我写好的代码，写好的代码没测完，又要新写一段代码吗？
那是不是还得再测这堆新写的代码呢？
嗯，发现了，问题+1了。
- 为了减少数据重复，我的**订单**里面没有存储发货点和收货点，它们被存在**运输片段**里面。
我发现要把它们找出来还不容易哈（请参考Bill_3视图的查询语句）。不仅难维护，而且性能还很差。
所以我怀疑我的数据库模型设计的有问题。
- 说实话测试数据不咋滴，主要是造起来太辛苦了，看的人眼瞎。
我测试这个模型的成本，比我设计和实现这个模型的成本高的太多了。
啊，不妥，不对劲，问题很大，但没有办法。太菜了，😭。
